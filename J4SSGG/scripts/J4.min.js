// Simple NET project using Canvas and pure JavaScript
// author: @J4SSGG - Abraham Gutierrez
var J4=function(b,a){this.canvas=document.getElementById(b);this.canvas.width=document.body.clientWidth;this.canvas.height=window.innerHeight;this.ctx=this.canvas.getContext("2d");this.width=this.canvas.width;this.height=this.canvas.height;this.lineColor=this.dotColor="#E8444D";this.showDots=this.showLines=!0;this.dots=[];this.amount=20;this.yVelocity=this.xVelocity=5;this.dotWidth=4;this.lineWidth=2;this.highestPath=0;this.size=3;void 0!==a&&(void 0!==a.dotColor&&(this.dotColor=a.dotColor),void 0!==
a.lineColor&&(this.lineColor=a.lineColor),void 0!==a.lineWidth&&(this.lineWidth=a.lineWidth),void 0!==a.dotWidth&&(this.dotWidth=a.dotWidth),void 0!==a.amount&&(this.amount=a.amount),void 0!==a.xVelocity&&(this.xVelocity=a.xVelocity),void 0!==a.yVelocity&&(this.yVelocity=a.yVelocity),void 0!=a.showDots&&(this.showDots=a.showDots),void 0!=a.showLines&&(this.showLines=a.showLines),void 0!=a.size&&(this.size=a.size));this.initialize()};
J4.prototype.initialize=function(){this.dots=[];for(var b=0;b<this.amount;b++)this.dots.push({id:b,x:Math.random()*this.width,y:Math.random()*this.height,vx:Math.random()*this.xVelocity*this.negativeRandom(),vy:Math.random()*this.yVelocity*this.negativeRandom(),width:this.random(1,this.dotWidth),neighbors:[]})};J4.prototype.euclideanDistance=function(b,a){var c=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)+Math.pow(b.width-a.width,2));this.highestPath<c&&(this.highestPath=c);return c};
J4.prototype.random=function(b,a){return Math.random()*(a-b)+b};J4.prototype.negativeRandom=function(){return.5>Math.random()?-1:1};J4.prototype.compare=function(b,a){return b.distance<a.distance?-1:b.distance==a.distance?0:1};J4.prototype.neighbors=function(){if(this.showLines)for(var b=0;b<this.amount;b++){this.dots[b].neighbors=[];for(var a=0;a<this.amount;a++){var c=this.euclideanDistance(this.dots[b],this.dots[a]);0!=c&&this.dots[b].neighbors.push({id:this.dots[a].id,distance:c})}this.dots[b].neighbors.sort(this.compare)}};
J4.prototype.drawDots=function(){if(this.showDots)for(var b=0;b<this.amount;b++){var a=this.dots[b];this.ctx.beginPath();this.ctx.arc(a.x,a.y,a.width,0,2*Math.PI,!1);this.ctx.fillStyle=this.dotColor;this.ctx.fill()}};
J4.prototype.drawLines=function(b){if(this.showLines)for(var a=0;a<this.amount;a++){var c=this.dots[a];this.ctx.beginPath();this.ctx.strokeStyle=this.lineColor;for(var d=0;d<b;d++){var e=c.neighbors[d];this.ctx.lineWidth=this.lineWidth*e.distance/this.highestPath;this.ctx.moveTo(c.x,c.y);this.ctx.lineTo(this.dots[e.id].x,this.dots[e.id].y);this.ctx.stroke()}}};
J4.prototype.updatePosition=function(){for(var b=0;b<this.amount;b++){var a=this.dots[b];a.x+=a.vx;a.y+=a.vy;a.x>this.width&&(a.x=this.width,a.vx*=-1);0>a.x&&(a.x=0,a.vx*=-1);a.y>this.height&&(a.y=this.height,a.vy*=-1);0>a.y&&(a.y=0,a.vy*=-1)}};J4.prototype.clear=function(){this.canvas.width=this.width};J4.prototype.animation=function(){this.clear();this.neighbors();this.drawLines(this.size);this.drawDots();this.updatePosition()};